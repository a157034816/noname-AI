# 身临其境的AI：docs 索引

本目录的文档分为两类：

1) **扩展机制文档**（面向玩家 + 开发者，解释本扩展“做了什么/怎么做的/如何扩展”）  
2) **策略/心得文章**（原有内容，偏玩法与经验）

> 生效范围总览：本扩展核心逻辑仅对“本地单机 AI”生效；联机/连接模式（`_status.connectMode`）下多数功能会直接跳过。

---

## 快速开始（玩家）

- **AI 面板（头像旁 AI 标记）**：扩展设置里开启“开局添加AI标记(Debug)”后，开局给所有角色挂 `AI` 标记；点击标记可查看人格、猜测身份、怒气、证据等。
- **反全知（盲选随机化）**：默认开启“盲选手牌随机化（反全知）”，用于手牌不可见时避免 AI 按真实牌面做最优解。
- **scripts 插件**：默认开启自动加载 `scripts/`；也可以用“脚本插件管理”单独启用/禁用并调整加载顺序（通常需重启生效）。

---

## 内置 scripts 快速介绍（玩家）

> 说明：scripts 属于“可选插件层”。你可以在扩展设置里的“脚本插件管理”逐个禁用、调整顺序；保存后通常需要重启生效。

- `01_popular_general_candidates.js`（热门武将候选影响）：影响开局 AI 选将候选列表，让热门/强势武将更容易被选中
- `10_chain_elemental_teamplay.js`（队友配合：铁索传导）：基于投花信号进行队友协作：铁索连环 + 属性伤害传导（AI vs AI 可自动确认以提高触发率）
- `20_peixiu_takeover.js`（裴秀 AI 接管：行图/爵制）：接管裴秀关键选牌，偏向不断链摸牌与优化爵制合成点数的选牌
- `21_wu_zhugeliang_takeover.js`（武诸葛亮 AI 接管：情势/智哲）：优化武诸葛亮关键技能决策（情势偏加伤、智哲偏关键牌复制）
- `22_xin_jushou_zhuge_bonus.js`（界沮授武将红利：摸牌影响诸葛连弩）：干预摸牌顺序让诸葛连弩更容易被摸到；会影响随机性/公平性，不需要该效果请关闭
- `23_xin_jushou_jianying_ai.js`（界沮授 AI 加强：渐营优先）：出牌阶段更倾向凑花色/点数以更频繁触发渐营摸牌
- `30_friendly_rage_egg_throw.js`（友善互动：怒气丢鸡蛋）：怒气达到阈值后投掷鸡蛋表情（不改变出牌策略，仅影响表现层互动）

详细机制与每个脚本的参数/副作用说明见：[scripts插件系统与内置脚本一览](scripts插件系统与内置脚本一览.md)。

---

## 快速开始（开发者 / 脚本作者）

- 扩展入口：`extension.js` 在 `precontent` 安装人格系统、补丁与脚本加载器。
- 对外 HookBus：`game.slqjAiHooks`（与 `game.__slqjAiPersona.hooks` 指向同一总线），可订阅 `slqj_ai_score`/`slqj_ai_attitude`/`slqj_ai_emotion_throw` 等事件。
- scripts 入口约定：`scripts/*.js` 模块可导出 `default/setup/install(ctx)` 任一函数；加载器会 `import()` 后自动调用入口函数（并传入 ctx）。

---

## 扩展机制文档（推荐阅读顺序）

1. [扩展总览](扩展总览.md)
2. [配置项与生效范围](配置项与生效范围.md)
3. [人格系统与心智模型](人格系统与心智模型.md)
4. [身份猜测、证据与态度系统](身份猜测、证据与态度系统.md)
5. [评分系统、选择器补丁与默认策略Hook](评分系统、选择器补丁与默认策略Hook.md)
6. [UI面板、统计与回合记忆](UI面板、统计与回合记忆.md)
7. [scripts插件系统与内置脚本一览](scripts插件系统与内置脚本一览.md)

---

## 策略/心得文章（原有）

- [AI 决策机制（引擎层定位与流程）](AI_DECISION.md)
- [敌友判断因素 1（含扩展当前实现口径）](敌友判断因素1.md)
- [通用技巧](通用技巧.md)
- [标准与军争卡牌](标准与军争卡牌.md)
- [裴秀玩法](裴秀玩法.md)
- [武诸葛亮玩法](武诸葛亮玩法.md)
